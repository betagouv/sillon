"use strict";(self.webpackChunksillon=self.webpackChunksillon||[]).push([[907],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>f});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var u=r.createContext({}),l=function(e){var n=r.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},c=function(e){var n=l(e.components);return r.createElement(u.Provider,{value:n},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,u=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=l(t),m=o,f=p["".concat(u,".").concat(m)]||p[m]||d[m]||i;return t?r.createElement(f,a(a({ref:n},c),{},{components:t})):r.createElement(f,a({ref:n},c))}));function f(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,a=new Array(i);a[0]=m;var s={};for(var u in n)hasOwnProperty.call(n,u)&&(s[u]=n[u]);s.originalType=e,s[p]="string"==typeof e?e:o,a[1]=s;for(var l=2;l<i;l++)a[l]=t[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},7461:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var r=t(7462),o=(t(7294),t(3905));const i={hide_table_of_contents:!0},a="Avoir le code dans un m\xeame repository",s={unversionedId:"frontend-backend-close/monorepository",id:"frontend-backend-close/monorepository",title:"Avoir le code dans un m\xeame repository",description:"Sans parler de langage, nous vous conseillons d'avoir un monorepo (un seul repository) pour tout le code produit que vous pourriez avoir. Cela \xe9vitera les prises de t\xeate comme :",source:"@site/docs/frontend-backend-close/monorepository.mdx",sourceDirName:"frontend-backend-close",slug:"/frontend-backend-close/monorepository",permalink:"/docs/frontend-backend-close/monorepository",draft:!1,editUrl:"https://github.com/betagouv/sillon/tree/main/docs/frontend-backend-close/monorepository.mdx",tags:[],version:"current",frontMatter:{hide_table_of_contents:!0},sidebar:"docs",previous:{title:"Choisir un m\xeame langage",permalink:"/docs/frontend-backend-close/same-language"},next:{title:"\u2026 et rapprocher le frontend du frontend",permalink:"/docs/frontend-backend-close/unique-frontend"}},u={},l=[],c={toc:l},p="wrapper";function d(e){let{components:n,...t}=e;return(0,o.kt)(p,(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"avoir-le-code-dans-un-m\xeame-repository"},"Avoir le code dans un m\xeame repository"),(0,o.kt)("p",null,"Sans parler de langage, nous vous conseillons d'avoir un monorepo (un seul repository) pour tout le code produit que vous pourriez avoir. Cela \xe9vitera les prises de t\xeate comme :"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Lorsque que vous travaillez sur une fonctionnalit\xe9 vos commits devraient se suffire pour d\xe9crire tout le travail fait. Vous ne devriez pas avoir de commits dupliqu\xe9s du type ",(0,o.kt)("inlineCode",{parentName:"li"},"feat: set up registration form")," sur chacun de vos repositories de frontend, backend, et d\xe9ploiement\u2026 c'est impossible \xe0 tracer, et si vous fonctionnez avec des reviews de pull requests c'est extr\xeamement compliqu\xe9 pour la lisibilit\xe9 mais aussi pour monter le setup localement ;"),(0,o.kt)("li",{parentName:"ul"},"Le frontend et backend restent coupl\xe9s :",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Si vous avez un repository frontend, et un pour le backend, il faut que vous soyez synchronis\xe9s pour qu'ils soient d\xe9ploy\xe9s en m\xeame temps afin de garantir que le frontend n'utilise pas des choses qui n'existent pas encore sur le backend, ou que le backend a besoin dor\xe9navant d'informations sp\xe9cifiques. ",(0,o.kt)("em",{parentName:"li"},"(on peut essayer de se dire que l'on ne produit pas de breaking change dans le contrat de communication entre le frontend et le backend, mais ",(0,o.kt)("strong",{parentName:"em"},"\xe7a complexifie quelque chose qui devrait \xeatre simple"),")")," ;"),(0,o.kt)("li",{parentName:"ul"},'Si vous avez des communs en termes de code, il ferait sens d\'avoir un repository "common" puisque \xe7a ne fait pas plus partie du frontend que du backend. Mais \xe0 ce moment vous vous lancez dans la guerre de la gestion des d\xe9pendances pour \xeatre s\xfbr qu\'\xe0 chaque fois, le frontend ET le backend utilisent la m\xeame version du "common".')))),(0,o.kt)("p",null,"On a parl\xe9 de monorepo, mais en fait ce qu'il faut retenir : ",(0,o.kt)("strong",{parentName:"p"},"utilisez un monolithe !")," Cela vous permettra d'utiliser un framework unifi\xe9 (frontend + backend) pour b\xe9n\xe9ficier sur \xe9tag\xe8res d'utilitaires test\xe9s et approuv\xe9s par une communaut\xe9 : logique de communication, routing, connexion\u2026"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Et cela tombe bien, le fait d'utiliser du JavaScript pour le frontend et le backend simplifie la stack du d\xe9veloppeur")," \ud83d\ude00",(0,o.kt)("em",{parentName:"p"},".")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},'Si la notion de microservices vous semble indispensable, dites-vous qu\'en organisant bien votre monolithe vous tirerez la plupart des b\xe9n\xe9fices sans les d\xe9savantages (gestion de d\xe9pendances, d\xe9ploiements diff\xe9rents\u2026). Vous pouvez vous renseigner sur le pattern "modular monolith".')))}d.isMDXComponent=!0}}]);