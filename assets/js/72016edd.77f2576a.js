"use strict";(self.webpackChunksillon=self.webpackChunksillon||[]).push([[4368],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>f});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),u=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=u(r),m=a,f=c["".concat(l,".").concat(m)]||c[m]||d[m]||o;return r?n.createElement(f,i(i({ref:t},p),{},{components:r})):n.createElement(f,i({ref:t},p))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:a,i[1]=s;for(var u=2;u<o;u++)i[u]=r[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},3688:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var n=r(7462),a=(r(7294),r(3905));const o={hide_table_of_contents:!0},i="PostgreSQL plut\xf4t que MySQL",s={unversionedId:"database-for-everything/postgresql-rather-than-mysql",id:"database-for-everything/postgresql-rather-than-mysql",title:"PostgreSQL plut\xf4t que MySQL",description:"Nous pr\xe9conisons PostgreSQL pour du RDBMS. Cette base de donn\xe9es est orient\xe9e objets, ce qui permet de pousser un peu plus loin les contraintes sur les formats de donn\xe9es contrairement \xe0 une MySQL/MariaDB.",source:"@site/docs/database-for-everything/postgresql-rather-than-mysql.mdx",sourceDirName:"database-for-everything",slug:"/database-for-everything/postgresql-rather-than-mysql",permalink:"/docs/database-for-everything/postgresql-rather-than-mysql",draft:!1,editUrl:"https://github.com/betagouv/sillon/tree/main/docs/database-for-everything/postgresql-rather-than-mysql.mdx",tags:[],version:"current",frontMatter:{hide_table_of_contents:!0},sidebar:"docs",previous:{title:"ORM",permalink:"/docs/database-for-everything/orm"},next:{title:"Un seul espace de stockage, \xe7a serait le r\xeave ?",permalink:"/docs/database-for-everything/dream-of-unique-storage"}},l={},u=[],p={toc:u},c="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(c,(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"postgresql-plut\xf4t-que-mysql"},"PostgreSQL plut\xf4t que MySQL"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Nous pr\xe9conisons ",(0,a.kt)("a",{parentName:"strong",href:"https://www.postgresql.org/"},"PostgreSQL"))," pour du RDBMS. Cette base de donn\xe9es est orient\xe9e objets, ce qui permet de pousser un peu plus loin les contraintes sur les formats de donn\xe9es contrairement \xe0 une ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/MySQL"},"MySQL"),"/",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/MariaDB"},"MariaDB"),"."),(0,a.kt)("p",null,"\xc0 titre d'exemples comme MySQL n'est pas nativement orient\xe9 objets :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Il a fallu attendre MySQL v8 en 2018 pour enfin supporter les ",(0,a.kt)("inlineCode",{parentName:"li"},"ENUM")," (sachant que MySQL est sorti en 1995) ;"),(0,a.kt)("li",{parentName:"ul"},"La gestion d'une colonne en ",(0,a.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Universally_unique_identifier"},(0,a.kt)("inlineCode",{parentName:"a"},"uuid"))," n'est pas native :",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Si vous voulez que ce soit lisible n'importe quand pour un humain il faut forcer le type \xe0 ",(0,a.kt)("inlineCode",{parentName:"li"},"string"),"\u2026 mais du coup ce n'est pas optimis\xe9 en stockage et pour les jointures ;"),(0,a.kt)("li",{parentName:"ul"},"Si vous voulez optimiser la taille vous devez d\xe9finir le type ",(0,a.kt)("inlineCode",{parentName:"li"},"BINARY(16)")," mais au moment de faire vos ",(0,a.kt)("inlineCode",{parentName:"li"},"SELECT")," vous ne verrez rien de lisible. Pour \xe7a il faut pr\xe9ciser le helper ",(0,a.kt)("inlineCode",{parentName:"li"},"BIN_TO_UUID()")," \xe0 chaque endroit o\xf9 il y a vos UUIDs, et ",(0,a.kt)("inlineCode",{parentName:"li"},"UUID_TO_BIN()")," au moment de vos ",(0,a.kt)("inlineCode",{parentName:"li"},"INSERT"),". ",(0,a.kt)("strong",{parentName:"li"},"\xc9conomisez votre temps\u2026 utilisez PostgreSQL")," ;"))),(0,a.kt)("li",{parentName:"ul"},'Vous ne pouvez pas cr\xe9er de "custom type" ',(0,a.kt)("a",{parentName:"li",href:"https://www.postgresql.org/docs/current/rowtypes.html#ROWTYPES-DECLARING"},"o\xf9 vous d\xe9finiriez vous-m\xeame la structure de donn\xe9es attendue"),".")),(0,a.kt)("p",null,"Cela peut vous para\xeetre exag\xe9r\xe9 mais quand vous faites des migrations de donn\xe9es (car oui cela arrive), avoir une base qui sait un minimum ce qui peut ou ne peut pas \xeatre fait aide grandement. Surtout quand vous travaillez sur des Go de donn\xe9es."))}d.isMDXComponent=!0}}]);