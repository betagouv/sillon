"use strict";(self.webpackChunksillon=self.webpackChunksillon||[]).push([[8513],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>f});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),l=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=l(e.components);return n.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=l(r),m=a,f=c["".concat(p,".").concat(m)]||c[m]||d[m]||o;return r?n.createElement(f,i(i({ref:t},u),{},{components:r})):n.createElement(f,i({ref:t},u))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[c]="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=r[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},5208:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var n=r(7462),a=(r(7294),r(3905));const o={hide_table_of_contents:!0},i="ORM",s={unversionedId:"database-for-everything/orm",id:"database-for-everything/orm",title:"ORM",description:"Nous faisons le choix d'utiliser Prisma pour interagir avec notre base de donn\xe9es RDBMS. Comme nous souhaitons versionner le plus de choses, avoir un ORM permet de garder cette rigueur.",source:"@site/docs/database-for-everything/orm.mdx",sourceDirName:"database-for-everything",slug:"/database-for-everything/orm",permalink:"/docs/database-for-everything/orm",draft:!1,editUrl:"https://github.com/betagouv/sillon/tree/main/docs/database-for-everything/orm.mdx",tags:[],version:"current",frontMatter:{hide_table_of_contents:!0},sidebar:"docs",previous:{title:"RDBMS\u2026 simplement du relationnel",permalink:"/docs/database-for-everything/relational-databases"},next:{title:"PostgreSQL plut\xf4t que MySQL",permalink:"/docs/database-for-everything/postgresql-rather-than-mysql"}},p={},l=[],u={toc:l},c="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(c,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"orm"},"ORM"),(0,a.kt)("p",null,"Nous faisons le choix d'utiliser ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/prisma/prisma"},"Prisma")," pour interagir avec notre base de donn\xe9es RDBMS. Comme nous souhaitons versionner le plus de choses, avoir un ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Object%E2%80%93relational_mapping"},"ORM")," permet de garder cette rigueur."),(0,a.kt)("p",null,"Sachez que Prisma a \xe9t\xe9 d\xe9velopp\xe9 avec TypeScript en t\xeate. Le type des donn\xe9es retourn\xe9 par les requ\xeates est dynamique en fonction de la requ\xeate. Par exemple si vous faites l'\xe9quivalent d'un ",(0,a.kt)("inlineCode",{parentName:"p"},"SELECT * FROM users")," toutes les propri\xe9t\xe9s seront propos\xe9es par le linter TypeScript, alors que si vous faites un ",(0,a.kt)("inlineCode",{parentName:"p"},"SELECT age FROM users")," seul l'\xe2ge sera propos\xe9 comme propri\xe9t\xe9 pour chaque utilisateur."),(0,a.kt)("admonition",{title:"Rappel",type:"note"},(0,a.kt)("p",{parentName:"admonition"},'Le fait d\'avoir une base de donn\xe9es avec des types garantis, qui se retrouvent dans le TypeScript, est dans la continuit\xe9 de notre logique de typage "de bout en bout".')),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Un ORM a toujours ses limites si jamais vous voulez optimiser les requ\xeates\u2026 L'optimisation peut se faire en utilisant du SQL en direct mais vous perdez cette notion de types. Une alternative est de cr\xe9er une ",(0,a.kt)("inlineCode",{parentName:"em"},"VIEW")," en base de donn\xe9es, et avec son \xe9quivalence typ\xe9e dans Prisma afin de garder la notion de typage strict.")))}d.isMDXComponent=!0}}]);