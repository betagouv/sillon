"use strict";(self.webpackChunksillon=self.webpackChunksillon||[]).push([[315],{3905:(e,t,r)=>{r.d(t,{Zo:()=>l,kt:()=>v});var a=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var p=a.createContext({}),u=function(e){var t=a.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},l=function(e){var t=u(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,i=e.mdxType,n=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),c=u(r),m=i,v=c["".concat(p,".").concat(m)]||c[m]||d[m]||n;return r?a.createElement(v,o(o({ref:t},l),{},{components:r})):a.createElement(v,o({ref:t},l))}));function v(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var n=r.length,o=new Array(n);o[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[c]="string"==typeof e?e:i,o[1]=s;for(var u=2;u<n;u++)o[u]=r[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},328:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>n,metadata:()=>s,toc:()=>u});var a=r(7462),i=(r(7294),r(3905));const n={hide_table_of_contents:!0},o="Ce n'est pas un probl\xe8me pour une application mobile",s={unversionedId:"web-framework-strategy/native-application-compatibility",id:"web-framework-strategy/native-application-compatibility",title:"Ce n'est pas un probl\xe8me pour une application mobile",description:"En choisissant un framework web votre frontend va \xeatre compatible avec quasiment toutes les situations. Par exemple, si vous souhaitez d\xe9velopper une application mobile vous pouvez tr\xe8s bien d\xe9velopper \"une application web\" qui sera encapsul\xe9e dans une application hybride native. En fait, l'application native va utiliser une \"webview\" (vue du navigateur natif) pour faire le rendu de l'application web, sauf que l'utilisateur ne s'en rend pas compte puisque l'application web appara\xeet en plein \xe9cran (sans barre d'URL\u2026).",source:"@site/docs/web-framework-strategy/native-application-compatibility.mdx",sourceDirName:"web-framework-strategy",slug:"/web-framework-strategy/native-application-compatibility",permalink:"/docs/web-framework-strategy/native-application-compatibility",draft:!1,editUrl:"https://github.com/betagouv/sillon/tree/main/docs/web-framework-strategy/native-application-compatibility.mdx",tags:[],version:"current",frontMatter:{hide_table_of_contents:!0},sidebar:"docs",previous:{title:"React",permalink:"/docs/web-framework-strategy/react"},next:{title:"Toujours utiliser un module i18n",permalink:"/docs/i18n-recommended"}},p={},u=[],l={toc:u},c="wrapper";function d(e){let{components:t,...r}=e;return(0,i.kt)(c,(0,a.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"ce-nest-pas-un-probl\xe8me-pour-une-application-mobile"},"Ce n'est pas un probl\xe8me pour une application mobile"),(0,i.kt)("p",null,"En choisissant un framework web votre frontend va \xeatre compatible avec quasiment toutes les situations. Par exemple, si vous souhaitez d\xe9velopper une application mobile vous pouvez tr\xe8s bien d\xe9velopper \"une application web\" qui sera encapsul\xe9e dans une application hybride native. En fait, l'application native va utiliser une \"webview\" (vue du navigateur natif) pour faire le rendu de l'application web, sauf que l'utilisateur ne s'en rend pas compte puisque l'application web appara\xeet en plein \xe9cran (sans barre d'URL\u2026)."),(0,i.kt)("p",null,"C'est une bonne strat\xe9gie pour gagner en co\xfbt de d\xe9veloppement :"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},'Si votre application web est "responsive" elle pourra alors s\'afficher sur un desktop, une tablette, ou un t\xe9l\xe9phone. Et ce, que ce soit dans un navigateur ou dans une application hybride ;'),(0,i.kt)("li",{parentName:"ol"},"Durant votre p\xe9riode de tests et pour \xe9viter de g\xe9rer des contraintes relatives \xe0 ",(0,i.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Android_(operating_system)"},"Android")," ou ",(0,i.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/IOS"},"iOS"),", il vaut mieux permettre aux personnes de tester l'application via une URL, quitte \xe0 activer le mode PWA (progressive web app) afin qu'ils puissent la mettre sur leur \xe9cran d'accueil comme une vraie application ;"),(0,i.kt)("li",{parentName:"ol"},"Vous \xe9crivez le m\xeame code JavaScript/TypeScript pour g\xe9rer une version web, Android, iOS, ",(0,i.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Electron_(software_framework)"},"Electron"),"\u2026 Alors que si vous partiez en plus du web sur du natif Android (Java, Kotlin) et iOS (Objective-C, Swift), vous devriez trouver des librairies dans chaque langage, donc d\xe9cliner votre fonctionnalit\xe9 en 3 codes diff\xe9rents, et esp\xe9rer avoir trouv\xe9 des librairies avec des rendus graphiques similaires. ",(0,i.kt)("strong",{parentName:"li"},"Une perte de temps consid\xe9rable !")," ",(0,i.kt)("em",{parentName:"li"},"(\xe0 noter qu'avec une application hybride il est possible que vous touchiez un peu au code natif pour configurer la webview ou des plugins, mais \xe7a reste rare et \xe0 la port\xe9e de tous car \xe9norm\xe9ment de plugins tout faits existent)")),(0,i.kt)("li",{parentName:"ol"},"Une fois les bases natives pour l'hybridation mises en place, \xe0 partir du moment o\xf9 vous ne touchez plus qu'\xe0 l'application web vous pouvez m\xeame vous permettre de ne d\xe9velopper que localement sur le navigateur de votre ordinateur. Vous \xeates quasiment garantis que cela marchera sur mobile une fois compil\xe9 dans l'application hybride.")),(0,i.kt)("p",null,"Nous recommandons pour cela l'utilisation de ",(0,i.kt)("a",{parentName:"p",href:"https://capacitorjs.com/"},"Capacitor"),"."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("a",{parentName:"p",href:"https://cordova.apache.org/"},"Apache Cordova")," a longtemps \xe9t\xe9 une r\xe9f\xe9rence mais il masquait trop la couche native, ce qui limitait la personnalisation. Son petit fr\xe8re ",(0,i.kt)("a",{parentName:"p",href:"https://capacitorjs.com/"},"Capacitor")," corrige tous ses d\xe9fauts.")),(0,i.kt)("admonition",{title:"Mise en garde",type:"danger"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("strong",{parentName:"p"},"Il est important de justifier votre besoin d'avoir une application mobile.")," C'est un chemin sem\xe9 d'emb\xfbches alors que certains produits pourraient d\xe9marrer avec une simple version \"web\" :"),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},'Pour compiler l\'application hybride, vous avez besoin de faire pareil que pour une application "native", il faut utiliser des outils comme ',(0,i.kt)("a",{parentName:"li",href:"https://developer.android.com/studio"},"Android Studio")," ou ",(0,i.kt)("a",{parentName:"li",href:"https://developer.apple.com/xcode/"},"Xcode")," (pour iOS) ;"),(0,i.kt)("li",{parentName:"ul"},"Pour iOS il faut forc\xe9ment poss\xe9der un Mac pour compiler votre application (ou utiliser un service en ligne payant mais \xe7a complique le d\xe9bogage) ;"),(0,i.kt)("li",{parentName:"ul"},"Pour le Google Play le co\xfbt ",(0,i.kt)("strong",{parentName:"li"},"par")," compte d\xe9veloppeur est de ~25 euros \xe0 vie, et pour l'App Store il est de ~100 euros ",(0,i.kt)("strong",{parentName:"li"},"par an et par")," compte d\xe9veloppeur (si vous ne payez plus vous ne pourrez plus mettre \xe0 jour votre application) ;"),(0,i.kt)("li",{parentName:"ul"},"Les API natives de l'OS ont souvent des mises \xe0 jour qui apportent des breaking changes. Et vous ne pouvez pas vous permettre de les ignorer car les stores (",(0,i.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Google_Play"},"Google Play")," et ",(0,i.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/App_store"},"App Store"),") vous forcent \xe0 garder un certain rythme de croisi\xe8re de mises \xe0 jour, au risque sinon de ne plus \xeatre list\xe9 chez eux ;"),(0,i.kt)("li",{parentName:"ul"},'Chaque d\xe9ploiement d\'une version d\'application passe forc\xe9ment par des validations de la part des stores. Cela prend majoritairement quelques heures pour un environnement "beta", voire quelques jours pour de la "production". Vous vous retrouvez donc \xe0 devoir essayer de synchroniser votre d\xe9ploiement backend par rapport aux d\xe9lais des stores. Notre conseil est de ne pas utiliser l\'option "d\xe9ployer automatiquement" apr\xe8s validation (puisque pour Google Play et App Store, ils ne donneront pas leur verdict en m\xeame temps). Au lieu de cela, vous attendez que tout soit au vert pour cliquer sur les boutons en m\xeame temps (juste apr\xe8s avoir d\xe9ploy\xe9 votre backend). ',(0,i.kt)("strong",{parentName:"li"},"Le fix d'un bug n'est donc pas imm\xe9diat pour les utilisateurs ;")),(0,i.kt)("li",{parentName:"ul"},"Pour compl\xe9ter le point pr\xe9c\xe9dent, contrairement \xe0 un site internet o\xf9 une nouvelle version est normalement r\xe9cup\xe9r\xe9e directement \xe0 l'utilisation, avec le m\xe9canisme des stores vos utilisateurs ne sont pas oblig\xe9s de faire les mises \xe0 jour tout de suite, voire jamais. Vous vous retrouvez donc \xe0 devoir g\xe9rer une API sans aucun breaking change le temps que ",(0,i.kt)("strong",{parentName:"li"},"tous")," vos utilisateurs fassent la migration. ",(0,i.kt)("em",{parentName:"li"},"On peut utiliser des plugins pour dire \xe0 l'ouverture de l'application \"hey, une nouvelle version est disponible, t\xe9l\xe9chargez-la\" en rendant cela optionnel ou obligatoire, mais \xe7a d\xe9pend de votre strat\xe9gie et de vos utilisateurs\u2026 veulent-ils voir ce message intempestif \xe0 chaque mise \xe0 jour ?")),(0,i.kt)("li",{parentName:"ul"},"Aussi, comme les validations des stores sont tant\xf4t automatiques, tant\xf4t manuelles, vous avez pu passer 10 fois le processus et malheureusement le jour o\xf9 vous avez ABSOLUMENT besoin d'un d\xe9ploiement, ils vous bloquent en vous reprochant quelque chose d'arbitraire. Et par malchance cela prendra 10 jours ou plus. Il faut alors avoir un contact privil\xe9gi\xe9 dans son sac pour esp\xe9rer acc\xe9l\xe9rer le processus. Cela s'est d\xe9j\xe0 vu avec certaines applications de grandes banques fran\xe7aises\u2026")),(0,i.kt)("p",{parentName:"admonition"},"Le but n'est pas de vous faire fuir, mais plut\xf4t de vous \"pr\xe9parer\" \xe0 la dure r\xe9alit\xe9 du d\xe9ploiement mobile. Mais ce n'est en rien insurmontable \ud83d\udcf1\ud83d\ude80.")))}d.isMDXComponent=!0}}]);