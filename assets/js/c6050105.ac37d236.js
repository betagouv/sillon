"use strict";(self.webpackChunksillon=self.webpackChunksillon||[]).push([[8802],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=r.createContext({}),l=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(u.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,u=e.parentName,c=a(e,["components","mdxType","originalType","parentName"]),p=l(n),m=o,f=p["".concat(u,".").concat(m)]||p[m]||d[m]||i;return n?r.createElement(f,s(s({ref:t},c),{},{components:n})):r.createElement(f,s({ref:t},c))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,s=new Array(i);s[0]=m;var a={};for(var u in t)hasOwnProperty.call(t,u)&&(a[u]=t[u]);a.originalType=e,a[p]="string"==typeof e?e:o,s[1]=a;for(var l=2;l<i;l++)s[l]=n[l];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1885:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var r=n(7462),o=(n(7294),n(3905));const i={hide_table_of_contents:!0},s="Pour les besoins techniques",a={unversionedId:"monitoring/for-technical-needs",id:"monitoring/for-technical-needs",title:"Pour les besoins techniques",description:'Techniquement nous recommandons d\'utiliser Sentry (mentionn\xe9 dans le chapitre sur les outils tiers) ou un outil similaire pour centraliser vos erreurs frontend et vos erreurs backend. Cela vous donnera des m\xe9tadonn\xe9es comme la "stack trace" pour investiguer plus en d\xe9tails quelle est erreur, o\xf9 a-t-elle \xe9t\xe9 \xe9mise, quand...',source:"@site/docs/monitoring/for-technical-needs.mdx",sourceDirName:"monitoring",slug:"/monitoring/for-technical-needs",permalink:"/docs/monitoring/for-technical-needs",draft:!1,editUrl:"https://github.com/betagouv/sillon/tree/main/docs/monitoring/for-technical-needs.mdx",tags:[],version:"current",frontMatter:{hide_table_of_contents:!0},sidebar:"docs",previous:{title:"Anticiper l'anonymisation",permalink:"/docs/monitoring/anonymizing-from-start"},next:{title:"Pour les besoins m\xe9tiers",permalink:"/docs/monitoring/for-business-needs"}},u={},l=[],c={toc:l},p="wrapper";function d(e){let{components:t,...n}=e;return(0,o.kt)(p,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"pour-les-besoins-techniques"},"Pour les besoins techniques"),(0,o.kt)("p",null,"Techniquement nous recommandons d'utiliser ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/getsentry/sentry"},"Sentry")," (mentionn\xe9 dans ",(0,o.kt)("a",{parentName:"p",href:"/docs/simple-and-sovereign-cloud-provider/offload-non-sensitive-tools"},"le chapitre sur les outils tiers"),') ou un outil similaire pour centraliser vos erreurs frontend et vos erreurs backend. Cela vous donnera des m\xe9tadonn\xe9es comme la "',(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Stack_trace"},"stack trace"),'" pour investiguer plus en d\xe9tails quelle est erreur, o\xf9 a-t-elle \xe9t\xe9 \xe9mise, quand...'),(0,o.kt)("p",null,"Nous vous conseillons de configurer le client Sentry afin de remonter toute erreur qui n'est pas qui n'est pas stopp\xe9e par un ",(0,o.kt)("inlineCode",{parentName:"p"},"try/catch"),". La section sur ",(0,o.kt)("a",{parentName:"p",href:"/docs/error-handling/"},"la gestion d'erreurs")," apporte quelques recommandations sur comment d\xe9finir ses erreurs, ce qui vous permettra d'affiner la remont\xe9e d'erreurs."),(0,o.kt)("admonition",{title:"Exemple",type:"info"},(0,o.kt)("p",{parentName:"admonition"},'Durant la consommation d\'une "job queue", au lieu de laisser partir des erreurs lambda vous pourriez formater des ',(0,o.kt)("inlineCode",{parentName:"p"},"JobQueueError"),", et dans l'interface Sentry dire que si vous avez plus de 3 ",(0,o.kt)("inlineCode",{parentName:"p"},"JobQueueError")," sous 1 minute, alors vous envoyez un email \xe0 l'\xe9quipe pour investigation.")),(0,o.kt)("admonition",{title:"Aller plus loin",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"L'outil dispose aussi d'une fonctionnalit\xe9 de \"session replay\" activable. Depuis le frontend, cela va enregistrer les derni\xe8res modifications du ",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Document_Object_Model"},"DOM HTML"),", et en cas d'erreur va envoyer cette \"enregistrement\" \xe0 l'outil afin que vous ayez \xe0 disposition une pseudo-vid\xe9o qui aidera \xe0 contextualiser pour mieux reproduire l'erreur. Bien entendu, il est imp\xe9ratif d'",(0,o.kt)("a",{parentName:"p",href:"/docs/monitoring/anonymizing-from-start"},"obfusquer toute donn\xe9e sensible avant"),".")))}d.isMDXComponent=!0}}]);