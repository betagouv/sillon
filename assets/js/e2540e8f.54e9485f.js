"use strict";(self.webpackChunksillon=self.webpackChunksillon||[]).push([[5934],{3905:(e,t,r)=>{r.d(t,{Zo:()=>l,kt:()=>f});var n=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var c=n.createContext({}),u=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},l=function(e){var t=u(e.components);return n.createElement(c.Provider,{value:t},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),m=u(r),d=i,f=m["".concat(c,".").concat(d)]||m[d]||p[d]||o;return r?n.createElement(f,a(a({ref:t},l),{},{components:r})):n.createElement(f,a({ref:t},l))}));function f(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=r.length,a=new Array(o);a[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[m]="string"==typeof e?e:i,a[1]=s;for(var u=2;u<o;u++)a[u]=r[u];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},1346:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var n=r(7462),i=(r(7294),r(3905));const o={hide_table_of_contents:!0},a="R\xe9duire au maximum les interm\xe9diaires",s={unversionedId:"client-server-communication/reduce-intermediaries",id:"client-server-communication/reduce-intermediaries",title:"R\xe9duire au maximum les interm\xe9diaires",description:'Plus vous ajoutez de couches interm\xe9diaires, plus vous faites de "mappers" (et donc du boilerplate code). Bien entendu, ne pas r\xe9utiliser les m\xeames structures de donn\xe9es entre votre base de donn\xe9es et votre couche m\xe9tier fait sens, mais \xe0 quoi bon passer par des \xe9tats interm\xe9diaires au moment de passer sur le r\xe9seau ?',source:"@site/docs/client-server-communication/reduce-intermediaries.mdx",sourceDirName:"client-server-communication",slug:"/client-server-communication/reduce-intermediaries",permalink:"/docs/client-server-communication/reduce-intermediaries",draft:!1,editUrl:"https://github.com/betagouv/sillon/tree/main/docs/client-server-communication/reduce-intermediaries.mdx",tags:[],version:"current",frontMatter:{hide_table_of_contents:!0},sidebar:"docs",previous:{title:"Communications client-serveur",permalink:"/docs/client-server-communication"},next:{title:"tRPC",permalink:"/docs/client-server-communication/trpc"}},c={},u=[],l={toc:u},m="wrapper";function p(e){let{components:t,...r}=e;return(0,i.kt)(m,(0,n.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"r\xe9duire-au-maximum-les-interm\xe9diaires"},"R\xe9duire au maximum les interm\xe9diaires"),(0,i.kt)("p",null,'Plus vous ajoutez de couches interm\xe9diaires, plus vous faites de "mappers" (et donc du boilerplate code). Bien entendu, ne pas r\xe9utiliser les m\xeames structures de donn\xe9es entre votre base de donn\xe9es et votre couche m\xe9tier fait sens, mais \xe0 quoi bon passer par des \xe9tats interm\xe9diaires au moment de passer sur le r\xe9seau ?'),(0,i.kt)("p",null,"Si vous prenez l'exemple de GraphQL qui est tr\xe8s utilis\xe9 et permet d'avoir un contrat strict entre le serveur et le client, vous vous retrouvez \xe0 d\xe9crire un sch\xe9ma dans un fichier ",(0,i.kt)("inlineCode",{parentName:"p"},".gql")," qui n'a rien \xe0 voir avec votre code (peu importe le langage). Vous devrez donc faire des mappers ",(0,i.kt)("inlineCode",{parentName:"p"},"m\xe9tier \u21d4 GQL"),", et sur votre frontend, et sur votre backend. ",(0,i.kt)("strong",{parentName:"p"},'Et vous perdez l\'efficacit\xe9 de "typer" de bout en bout votre application')," (puisque GraphQL n'est pas un concept propre \xe0 JS/TS)."),(0,i.kt)("admonition",{title:"Contexte",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Nous recommandons d'utiliser un monolithe o\xf9 les concepts sont tr\xe8s rapproch\xe9s, nous avons peu de raisons de nous ajouter une telle complexit\xe9.")),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Petite nuance n\xe9cessaire : GraphQL permet aussi de d\xe9finir son sch\xe9ma en code brut, ce qui \xe0 premi\xe8re vue r\xe8glerait le souci si c'est fait dans un m\xeame langage client-serveur. Mais l'architecture m\xeame de GraphQL apporte une (trop) grande complexit\xe9 (",(0,i.kt)("a",{parentName:"em",href:"https://graphql.org/learn/execution/"},"resolvers imbriqu\xe9s"),", et donc ",(0,i.kt)("a",{parentName:"em",href:"https://github.com/graphql/dataloader"},"dataloaders"),", et donc ",(0,i.kt)("a",{parentName:"em",href:"https://typegraphql.com/docs/complexity.html"},"query complexity"),"\u2026). C'est pour cela que le prochain chapitre mentionne une alternative.")))}p.isMDXComponent=!0}}]);