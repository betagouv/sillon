"use strict";(self.webpackChunksillon=self.webpackChunksillon||[]).push([[5217],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>f});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=l(r),m=a,f=p["".concat(c,".").concat(m)]||p[m]||d[m]||o;return r?n.createElement(f,i(i({ref:t},u),{},{components:r})):n.createElement(f,i({ref:t},u))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[p]="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=r[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},4396:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var n=r(7462),a=(r(7294),r(3905));const o={hide_table_of_contents:!0},i="Pr\xe9f\xe9rez l'API \xe0 la mise en cache frontend",s={unversionedId:"client-server-communication/prefer-api-to-frontend-caching",id:"client-server-communication/prefer-api-to-frontend-caching",title:"Pr\xe9f\xe9rez l'API \xe0 la mise en cache frontend",description:"Qu'est-ce que \xe7a veut dire ? Dans React, un outil comme Redux permet de g\xe9rer des \"stores\" pour g\xe9rer l'\xe9tat global de votre frontend au fil des pages. Comme entre les pages vous allez probablement r\xe9cup\xe9rer certaines m\xeames donn\xe9es, il peut vite \xeatre tentant de chercher \xe0 \xe9conomiser les requ\xeates r\xe9seaux en r\xe9utilisant ce qui a d\xe9j\xe0 \xe9t\xe9 r\xe9cup\xe9r\xe9.",source:"@site/docs/client-server-communication/prefer-api-to-frontend-caching.mdx",sourceDirName:"client-server-communication",slug:"/client-server-communication/prefer-api-to-frontend-caching",permalink:"/docs/client-server-communication/prefer-api-to-frontend-caching",draft:!1,editUrl:"https://github.com/betagouv/sillon/tree/main/docs/client-server-communication/prefer-api-to-frontend-caching.mdx",tags:[],version:"current",frontMatter:{hide_table_of_contents:!0},sidebar:"docs",previous:{title:"Validation des donn\xe9es entrantes",permalink:"/docs/client-server-communication/input-validation"},next:{title:"Avoir de la r\xe9activit\xe9 avec une API traditionnelle",permalink:"/docs/client-server-communication/reactivity-with-traditional-api"}},c={},l=[],u={toc:l},p="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(p,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"pr\xe9f\xe9rez-lapi-\xe0-la-mise-en-cache-frontend"},"Pr\xe9f\xe9rez l'API \xe0 la mise en cache frontend"),(0,a.kt)("p",null,"Qu'est-ce que \xe7a veut dire ? Dans React, un outil comme ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/reduxjs/redux"},"Redux"),' permet de g\xe9rer des "',(0,a.kt)("a",{parentName:"p",href:"https://redux.js.org/api/store"},"stores"),"\" pour g\xe9rer l'\xe9tat global de votre frontend au fil des pages. Comme entre les pages vous allez probablement r\xe9cup\xe9rer certaines m\xeames donn\xe9es, il peut vite \xeatre tentant de chercher \xe0 \xe9conomiser les requ\xeates r\xe9seaux en r\xe9utilisant ce qui a d\xe9j\xe0 \xe9t\xe9 r\xe9cup\xe9r\xe9."),(0,a.kt)("p",null,"Sauf qu'en faisant cela vous vous lancez d'office dans plusieurs complications :"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Vous ne garantissez plus du tout que la donn\xe9e que vous affichez est \xe0 jour au moment de l'affichage de la nouvelle page (puisque vous l'avez mise en cache pour une certaine dur\xe9e). Faisant courir le risque que l'utilisateur fasse des actions sur des valeurs p\xe9rim\xe9es ;"),(0,a.kt)("li",{parentName:"ol"},"Vous r\xe9pliquez la notion de cycle de vie de la donn\xe9e dans le frontend. Ce qui apporte une complexit\xe9 dans l'impl\xe9mentation.")),(0,a.kt)("p",null,"Comme expliqu\xe9 pour la ",(0,a.kt)("a",{parentName:"p",href:"/docs/database-for-everything/cache"},"mise en cache backend des donn\xe9es"),", il ne sert \xe0 rien d'essayer d'optimiser avant de rencontrer certaines limites. Et ce qui est s\xfbr, c'est qu'un simple backend avec une base de donn\xe9es simple devrait largement supporter vos quelques premiers milliers d'utilisateurs sans essayer d'optimiser le frontend."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Comme d\xe9crit dans le chapitre sur ",(0,a.kt)("a",{parentName:"p",href:"/docs/backend-framework/"},"le framework backend"),", nous n'utilisons m\xeame pas de librairie tierce pour g\xe9rer l'\xe9tat de nos composants frontends.")))}d.isMDXComponent=!0}}]);